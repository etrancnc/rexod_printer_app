# 실제 하드웨어 테스트 가이드

이 문서는 REXOD 프린터 제어 애플리케이션의 실제 하드웨어 연동을 테스트하는 방법을 설명합니다.

## 테스트 환경 요구사항

### 하드웨어
- REXOD 프린터 (RMP8300 또는 호환 모델)
- Windows 10/11 컴퓨터
- USB 케이블 또는 시리얼 케이블
- 프린터 용지

### 소프트웨어
- Flutter SDK 3.24.3 이상
- Visual Studio 2022 (C++ 워크로드)
- 프린터 드라이버 (필요한 경우)

## 테스트 단계

### 1. 기본 연결 테스트

#### 1.1 간단한 테스트 앱 실행
```bash
# 테스트 앱 실행 (간단한 연결 테스트)
flutter run -d windows -t lib/main_test.dart
```

이 테스트 앱은 다음을 확인합니다:
- 사용 가능한 시리얼 포트 검색
- 포트 연결 시도
- 기본 명령어 전송
- 연결 상태 실시간 모니터링

#### 1.2 테스트 절차
1. 프린터를 컴퓨터에 연결
2. 프린터 전원 켜기
3. 테스트 앱에서 포트 새로고침
4. 올바른 포트 선택
5. '연결' 버튼 클릭
6. 연결 상태 확인
7. '테스트 인쇄' 버튼 클릭

#### 1.3 예상 결과
- **성공**: 녹색 상태 표시, "연결됨" 메시지, 테스트 텍스트 인쇄
- **실패**: 빨간색 상태 표시, 구체적인 오류 메시지

### 2. 전체 애플리케이션 테스트

#### 2.1 메인 애플리케이션 실행
```bash
# 메인 애플리케이션 실행
flutter run -d windows
```

#### 2.2 연결 테스트
1. **포트 설정**
   - COM 포트 또는 USB 선택
   - Baud Rate: 115200 (기본값)
   - Flow Control: Hardware (기본값)

2. **연결 시도**
   - '연결' 버튼 클릭
   - 연결 중 로딩 표시 확인
   - 연결 결과 메시지 확인

3. **연결 실패 시 확인사항**
   - 프린터 전원 상태
   - 케이블 연결 상태
   - 다른 프로그램에서 포트 사용 여부
   - 프린터 드라이버 설치 상태

#### 2.3 인쇄 기능 테스트

각 인쇄 기능을 순서대로 테스트:

1. **텍스트 인쇄**
   - 다양한 텍스트 스타일 출력 확인
   - 인쇄 중 로딩 표시 확인
   - 실제 용지 출력 확인

2. **바코드 인쇄**
   - CODE128 바코드 출력 확인
   - 바코드 스캔 가능 여부 확인

3. **QR코드 인쇄**
   - QR코드 출력 확인
   - 스마트폰으로 스캔 가능 여부 확인

4. **PDF417 인쇄**
   - 2D 바코드 출력 확인

5. **샘플 영수증 인쇄**
   - 완전한 영수증 형태 출력 확인
   - 레이아웃 및 정렬 확인

#### 2.4 상태 확인 테스트
1. '상태 확인' 버튼 클릭
2. 프린터 상태 정보 업데이트 확인
3. 용지 부족 시 경고 메시지 확인
4. 오류 상태 시 오류 메시지 확인

## 오류 해결

### 연결 오류

#### "포트를 찾을 수 없습니다"
- **원인**: 프린터가 연결되지 않았거나 드라이버 미설치
- **해결**: 
  1. USB 케이블 재연결
  2. 프린터 드라이버 설치
  3. 장치 관리자에서 포트 확인

#### "포트 열기 실패"
- **원인**: 다른 프로그램에서 포트 사용 중
- **해결**:
  1. 다른 프린터 프로그램 종료
  2. 컴퓨터 재시작
  3. 다른 USB 포트 사용

#### "프린터가 응답하지 않습니다"
- **원인**: 프린터 전원 꺼짐 또는 통신 설정 불일치
- **해결**:
  1. 프린터 전원 확인
  2. Baud Rate 설정 변경 (9600, 38400, 115200 시도)
  3. Flow Control 설정 변경

### 인쇄 오류

#### "인쇄 실패"
- **원인**: 용지 부족, 헤드 열림, 프린터 오류
- **해결**:
  1. 용지 확인 및 보충
  2. 프린터 헤드 닫기
  3. 프린터 재부팅
  4. '상태 확인'으로 오류 상태 확인

#### "명령어 전송 실패"
- **원인**: 통신 오류 또는 프린터 버퍼 오버플로우
- **해결**:
  1. 연결 해제 후 재연결
  2. 프린터 재부팅
  3. 인쇄 속도 조절 (명령어 간 지연 추가)

## 성능 테스트

### 연속 인쇄 테스트
1. 텍스트 인쇄를 10회 연속 실행
2. 각 인쇄 간 간격 확인
3. 메모리 누수 여부 확인

### 장시간 연결 테스트
1. 프린터 연결 상태로 1시간 유지
2. 주기적으로 상태 확인
3. 연결 안정성 확인

### 오류 복구 테스트
1. 인쇄 중 용지 제거
2. 오류 메시지 확인
3. 용지 보충 후 복구 확인

## 테스트 결과 기록

각 테스트 항목에 대해 다음을 기록:
- ✅ 성공 / ❌ 실패
- 오류 메시지 (실패 시)
- 실행 시간
- 특이사항

### 테스트 체크리스트

#### 기본 연결
- [ ] 포트 검색
- [ ] 포트 연결
- [ ] 프린터 응답 확인
- [ ] 연결 해제

#### 인쇄 기능
- [ ] 텍스트 인쇄
- [ ] 바코드 인쇄
- [ ] QR코드 인쇄
- [ ] PDF417 인쇄
- [ ] 샘플 영수증 인쇄

#### 상태 관리
- [ ] 상태 확인
- [ ] 오류 감지
- [ ] 경고 표시
- [ ] 프린터 재부팅

#### 오류 처리
- [ ] 연결 오류 처리
- [ ] 인쇄 오류 처리
- [ ] 사용자 알림
- [ ] 복구 기능

## 주의사항

1. **안전**: 프린터 전원을 끄기 전에 항상 연결을 해제하세요.
2. **용지**: 테스트 중 용지 소모를 고려하여 충분한 용지를 준비하세요.
3. **드라이버**: 프린터 제조사의 최신 드라이버를 사용하세요.
4. **권한**: Windows에서 시리얼 포트 접근 권한이 필요할 수 있습니다.

## 문의

테스트 중 문제가 발생하면 다음 정보와 함께 문의하세요:
- 프린터 모델명
- Windows 버전
- 오류 메시지
- 테스트 로그

